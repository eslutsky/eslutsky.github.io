<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie10 lt-ie9 lt-ie8 lt-ie7" lang="en-us"> <![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie10 lt-ie9 lt-ie8" lang="en-us"> <![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie10 lt-ie9" lang="en-us"> <![endif]-->
<!--[if IE 9]> <html class="no-js lt-ie10 lt-ie9" lang="en-us"> <![endif]-->
<!--[if lt IE 10]> <html class="no-js lt-ie10" lang="en-us"> <![endif]-->
<!--[if !IE]> > <![endif]-->
<html class='no-js' lang='en'>
<!-- <![endif] -->
<head>
<title>
DevProcess &mdash;
oVirt
</title>
<meta charset='utf-8'>
<meta content='' name='description'>
<meta content='' name='author'>
<meta content='initial-scale=1.0,user-scalable=no,maximum-scale=1,width=device-width' name='viewport'>

<link href='/images/favicon.ico' rel='shortcut icon'>
<link href='/images/apple-touch-icon-precomposed.png' rel='apple-touch-icon-precomposed'>
<link href='/images/apple-touch-icon-57x57-precomposed.png' rel='apple-touch-icon-precomposed' sizes='57x57'>
<link href='/images/apple-touch-icon-72x72-precomposed.png' rel='apple-touch-icon-precomposed' sizes='72x72'>
<link href='/images/apple-touch-icon-114x114-precomposed.png' rel='apple-touch-icon-precomposed' sizes='114x114'>
<link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet'>
<link href="/stylesheets/application.css?1560777611" rel="stylesheet" type="text/css" />
<link href="/stylesheets/print.css?1560777612" rel="stylesheet" type="text/css" media="print" />
</head>
<body class=' source-md'>
<header class='masthead hidden-print' id='branding' role='banner'>
<section class='hgroup'></section>
<div id='access'>
<nav id="mainNav" class="navbar-fixed-top affix-top navForMobileHack" style="font-family: 'Open Sans', sans-serif; display: flex; justify-content: center;">
      <a href="/"><img id="logo" style="float: left; margin-right: 70px; height: 40px; padding: 0; margin-top: 12px;" alt="oVirt" src="/images/logo.svg"></a>
      <div>
          <div class="navbar-header page-scroll" style="min-width: 170px">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#menu_id0980fddf">
                  <span class="sr-only">Toggle navigation</span> Menu <i class="fa fa-bars"></i>
              </button>
          </div>

          <!-- Collect the nav links, forms, and other content for toggling -->
          <div class="collapse navbar-collapse" id="menu_id0980fddf">

              <ul class="nav navbar-nav">
                  <li class="hidden active">
                      <a href="#page-top"></a>
                  </li>
<li role='menuitem'>
  <a href='/'>Home</a>
</li>

<li role='menuitem'>
  <a href='/download/'>Download</a>
</li>

<li role='menuitem'>
  <a href='/documentation/'>Documentation</a>
</li>

<li role='menuitem'>
  <a href='/develop/'>Developers</a>
</li>

<li role='menuitem'>
  <a href='/community/'>Community</a>
</li>

<li role='menuitem'>
  <a href='//lists.ovirt.org/archives/'>Forum</a>
</li>

<li role='menuitem'>
  <a href='/blog/'>Blog</a>
</li>

              </ul>
          </div>
          <!-- /.navbar-collapse -->
      </div>
      <!-- /.container-fluid -->
  </nav>

</div>
</header>

<section class='page-wrap' id='page-wrap'>
<section class='page' id='page'>
<ul class='breadcrumb'>
<li><a href="/develop/">Develop</a></li>
<li><a href="/develop/dev-process/">Dev-process</a></li>
</ul>

<section class='container content' id='content'>
<!--[if lt IE 7]>
<p class="chromeframe">You are using an outdated browser.
<a href="http://browsehappy.com/">Upgrade your browser today</a> or
<a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better experience this site.</p>
<![endif]-->
<h1 id="dev-process">Dev Process</h1>

<h2 id="development-process">Development Process</h2>

<p>The code you write, and the way you present it, are crucial for understanding and maintaining the source code. Please read the following sections for guidelines on Git, Gerrit, patch management and more.</p>

<h3 id="patch-review-process-goals">Patch Review Process Goals</h3>

<p>The patch review process goals are:</p>

<ol>
  <li>Improving code quality</li>
  <li>Design improvements</li>
  <li>Openness, transparency, community</li>
  <li>Usable revision history</li>
  <li>Archived discussions</li>
  <li>Patches which can be cherry-picked</li>
</ol>

<p>The oVirt project uses gerrit in order to review patches. For more on Gerrit and how to use it see <a href="/develop/dev-process/working-with-gerrit/">Working with oVirt Gerrit</a></p>

<h3 id="basic-principles">Basic Principles</h3>

<h4 id="review-process">Review Process</h4>

<ol>
  <li>Patches sent to Gerrit for review</li>
  <li>A peer thoughtfully reviews the patch</li>
  <li>Feedback gratefully received</li>
  <li>All discussions on the patch must be done on Gerrit</li>
  <li>Consensus formed, ACK or NAK agreed</li>
</ol>

<h4 id="coding-standards">Coding standards</h4>

<ul>
  <li>all coding standards for the project can be found at <a href="/develop/dev-process/backend-coding-standards/">Backend Coding Standards</a></li>
</ul>

<h5 id="whos-my-reviewer">who's my reviewer?</h5>

<p>if you don't know who is should review your patch you can either -</p>

<ul>
  <li>ping the engine-devel@ovirt.org mailing list with the link to gerrits request</li>
  <li>
    <p>git blame your code and trace recent users who committed code that you changed</p>

    <p>git blame HEAD~1 path/to/file -L {start},{end}</p>
  </li>
</ul>

<h4 id="patch-format">Patch Format</h4>

<ul>
  <li>ovirt-engine patch format</li>
</ul>

<p>use the project template for a commit message</p>

<div class="highlight"><pre class="highlight plaintext"><code>  git commit -s -t config/engine-commit-template.txt&#x000A;</code></pre></div>
<ul>
  <li>
    <p>other patch format (VDSM)</p>

    <p>short summary under 80 chars</p>

    <p> Longer description.
   With multiple paragraphs if necessary. 
   Wrapped at ~80 chars.</p>

    <p>Bug-Url: https://bugzilla.redhat.com/XXXXXX
  Signed-off-by: full name <mail></mail></p>

    <p> </p>
  </li>
</ul>

<h4 id="sending-a-patch-for-work-in-progress">Sending a Patch For Work In Progress</h4>

<p>Use gerrit's draft capabilities.</p>

<p>Patches in draft are blocked from being merged until they are "published"</p>

<p>To push a patch to drafts:</p>

<div class="highlight"><pre class="highlight plaintext"><code>  git push origin HEAD:refs/drafts/master&#x000A;   &#x000A;</code></pre></div>
<h4 id="describe-your-changes-properly">Describe your changes properly</h4>

<ol>
  <li>Not just “what”, but “why”</li>
  <li>Makes patches easier to review</li>
  <li>Incredibly useful to future developers, and for you as well (don't trust your own memory)</li>
</ol>

<h4 id="separate-your-changes">Separate your changes</h4>

<ol>
  <li>Each commits contain a single logical change</li>
  <li>Keep refactoring separate from bug fixes</li>
</ol>

<h4 id="focus-on-details">Focus on details</h4>

<ol>
  <li>Adhere to coding style</li>
  <li>Adhere to commit message format</li>
  <li>Make your code beautiful</li>
  <li>Refactor if necessary</li>
  <li>Use whitespaces and not tabs</li>
  <li>Prefer understandable code over comments</li>
</ol>

<h4 id="patch-queues">Patch queues</h4>

<ol>
  <li>Each topic branch is a patch queue</li>
  <li>Send each branch as a series of patches</li>
  <li>Gives reviewers an easy story to follow</li>
</ol>

<h4 id="git-guidelines">Git guidelines</h4>

<h5 id="merge-commits">Merge commits</h5>

<ol>
  <li>Don't use 'git merge' or 'git pull'</li>
  <li>Use 'git rebase' and 'git fetch' instead</li>
  <li>A merge commit is rarely what you want</li>
</ol>

<h5 id="topic-branches">Topic branches</h5>

<p>Create a branch for everything you work on. It can be done by either postfixing the topic to the push link</p>

<div class="highlight"><pre class="highlight plaintext"><code>  push origin HEAD:refs/publish/master/{NAME_OF_YOUR_TOPIC}&#x000A;</code></pre></div>
<p>or using gerrit's review page directly by clicking on the topic</p>

<h5 id="interactive-rebase">Interactive Rebase</h5>

<p>You can also interactive rebase. It is very useful when you would like to re-write your own commit objects before pushing them somewhere. It is an easy way to split, merge or re-order commits before sharing them with others. You can also use it to clean up commits you've pulled from someone when applying them locally.</p>

<p>For more information on using interactive rebase see <a href="http://book.git-scm.com/4_interactive_rebasing.html">http://book.git-scm.com/4_interactive_rebasing.html</a></p>

</section>
</section>
</section>
<footer class='text-center' id='footer'>
<hr class='visible-print'>
<ul class='footer-nav-list'>
<li><a target="_blank" href="../../site/privacy-policy.html">Privacy policy</a></li>
<li><a target="_blank" href="../../community/about.html">About</a></li>
<li><a target="_blank" href="../../site/general-disclaimer.html">Disclaimers</a></li>
</ul>

&copy; 2013&ndash;2019 oVirt
<div class='edit-this-page'>
<a target="_blank" href="https://github.com/oVirt/ovirt-site/issues/new?labels=content&amp;title=Issue:%20/source/develop/dev-process/devprocess.html.md&amp;template="><i class="icon fa fa-github"></i>Report an issue with this page</a>
</div>
<div class='edit-this-page'>
<a target="_blank" href="https://github.com/oVirt/ovirt-site/edit/master/source/develop/dev-process/devprocess.html.md"><i class="icon fa fa-github"></i>Edit this page</a>
</div>
<div class='last-modified'>
Page last modified
Wed 12 Jul 2017 17:57 UTC
</div>
        <script type="text/javascript">
        var _paq = _paq || [];
        _paq.push(['trackPageView']);
        _paq.push(['enableLinkTracking']);
        (function() {
        var u=(("https:" == document.location.protocol) ? "https" : "http") + "://stats.phx.ovirt.org/";
        _paq.push(['setTrackerUrl', u+'piwik.php']);
        _paq.push(['setSiteId', 1]);
        var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0]; g.type='text/javascript';
        g.defer=true; g.async=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
        })();
        </script>
<noscript><p><img src="https://stats.phx.ovirt.org/piwik.php?idsite=1" style="border:0;" alt="" /></p></noscript>
</footer>


<script src="/javascripts/application.js?1560777657" type="text/javascript"></script>

</body>
</html>
