<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie10 lt-ie9 lt-ie8 lt-ie7" lang="en-us"> <![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie10 lt-ie9 lt-ie8" lang="en-us"> <![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie10 lt-ie9" lang="en-us"> <![endif]-->
<!--[if IE 9]> <html class="no-js lt-ie10 lt-ie9" lang="en-us"> <![endif]-->
<!--[if lt IE 10]> <html class="no-js lt-ie10" lang="en-us"> <![endif]-->
<!--[if !IE]> > <![endif]-->
<html class='no-js' lang='en'>
<!-- <![endif] -->
<head>
<title>
Skydive With oVirt &mdash;
oVirt
</title>
<meta charset='utf-8'>
<meta content='' name='description'>
<meta content='Michael Burman' name='author'>
<meta content='initial-scale=1.0,user-scalable=no,maximum-scale=1,width=device-width' name='viewport'>
<link href='/blog/feed.xml' rel='alternate' title='Atom feed' type='application/atom+xml'>
<!-- Open Graph (FB / G+) -->
<meta content='article' property='og:type'>
<meta content='Skydive With oVirt' property='og:title'>
<meta content='Skydive network is an open source real-time network topology and protocols analyzer providing a comprehensive way of understanding what is happening in your network infrastructure.
The common use cases will be, troubleshooting, monitoring, SDN integration and much more.
It has features such as:

  Topology capturing - Captures network topology, interface, bridge and more
  Flow capture - Distributed probe, L2-L4 classifier, GRE, VXLAN, GENEVE, MPLS/GRE, MPLS/UDP tunnelling support
  Extendable - Support for external SDN Controllers or container based infrastructure, OpenStack. Supports extensions through API


Benefit to oVirt users
Skydive allows oVirt administrators to see the network configuration and topology of their oVirt cluster.
Administrators can capture traffic from VM1 to VM2 or monitor the traffic between VMs or hosts.
Skydive can generate traffic between 2 running VMs on different hosts and then analyze.
Administrators can create alerts in Skydive UI to notify when traffic is disconnected or down.' property='og:description'>
<meta content='http://ovirt.org/blog/2018/08/Skydive-With-oVirt.html' property='og:url'>
<meta content='2018-08-02T09:01:00Z' property='article:published_time'>
<meta content='mburman' property='article:author:username'>
<meta content='network' property='article:tag'>
<link href='/blog/tag/network.xml' rel='alternate' title='Atom feed' type='application/atom+xml'>
<meta content='open source virtualization' property='article:tag'>
<link href='/blog/tag/open source virtualization.xml' rel='alternate' title='Atom feed' type='application/atom+xml'>
<meta content='oVirt' property='article:tag'>
<link href='/blog/tag/ovirt.xml' rel='alternate' title='Atom feed' type='application/atom+xml'>
<meta content='oVirt 4.2' property='article:tag'>
<link href='/blog/tag/ovirt 4.2.xml' rel='alternate' title='Atom feed' type='application/atom+xml'>
<!-- Twitter card -->
<meta content='summary' name='twitter:card'>
<meta content='Skydive With oVirt' name='twitter:title'>
<meta content='Skydive network is an open source real-time network topology and protocols analyzer providing a comprehensive way of understanding what is happening in your network infrastructure.
The common use cases will be, troubleshooting, monitoring, SDN integration and much more.
It has features such as:

  Topology capturing - Captures network topology, interface, bridge and more
  Flow capture - Distributed probe, L2-L4 classifier, GRE, VXLAN, GENEVE, MPLS/GRE, MPLS/UDP tunnelling support
  Extendable - Support for external SDN Controllers or container based infrastructure, OpenStack. Supports extensions through API


Benefit to oVirt users
Skydive allows oVirt administrators to see the network configuration and topology of their oVirt cluster.
Administrators can capture traffic from VM1 to VM2 or monitor the traffic between VMs or hosts.
Skydive can generate traffic between 2 running VMs on different hosts and then analyze.
Administrators can create alerts in Skydive UI to notify when traffic is disconnected or down.' name='twitter:description'>

<link href='/images/favicon.ico' rel='shortcut icon'>
<link href='/images/apple-touch-icon-precomposed.png' rel='apple-touch-icon-precomposed'>
<link href='/images/apple-touch-icon-57x57-precomposed.png' rel='apple-touch-icon-precomposed' sizes='57x57'>
<link href='/images/apple-touch-icon-72x72-precomposed.png' rel='apple-touch-icon-precomposed' sizes='72x72'>
<link href='/images/apple-touch-icon-114x114-precomposed.png' rel='apple-touch-icon-precomposed' sizes='114x114'>
<link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet'>
<link href="/stylesheets/application.css?1560777611" rel="stylesheet" type="text/css" />
<link href="/stylesheets/print.css?1560777612" rel="stylesheet" type="text/css" media="print" />
</head>
<body class=' source-md'>
<header class='masthead hidden-print' id='branding' role='banner'>
<section class='hgroup'></section>
<div id='access'>
<nav id="mainNav" class="navbar-fixed-top affix-top navForMobileHack" style="font-family: 'Open Sans', sans-serif; display: flex; justify-content: center;">
      <a href="/"><img id="logo" style="float: left; margin-right: 70px; height: 40px; padding: 0; margin-top: 12px;" alt="oVirt" src="/images/logo.svg"></a>
      <div>
          <div class="navbar-header page-scroll" style="min-width: 170px">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#menu_id0980fddf">
                  <span class="sr-only">Toggle navigation</span> Menu <i class="fa fa-bars"></i>
              </button>
          </div>

          <!-- Collect the nav links, forms, and other content for toggling -->
          <div class="collapse navbar-collapse" id="menu_id0980fddf">

              <ul class="nav navbar-nav">
                  <li class="hidden active">
                      <a href="#page-top"></a>
                  </li>
<li role='menuitem'>
  <a href='/'>Home</a>
</li>

<li role='menuitem'>
  <a href='/download/'>Download</a>
</li>

<li role='menuitem'>
  <a href='/documentation/'>Documentation</a>
</li>

<li role='menuitem'>
  <a href='/develop/'>Developers</a>
</li>

<li role='menuitem'>
  <a href='/community/'>Community</a>
</li>

<li role='menuitem'>
  <a href='//lists.ovirt.org/archives/'>Forum</a>
</li>

<li role='menuitem'>
  <a href='/blog/'>Blog</a>
</li>

              </ul>
          </div>
          <!-- /.navbar-collapse -->
      </div>
      <!-- /.container-fluid -->
  </nav>

</div>
</header>

<section class='page-wrap' id='page-wrap'>
<section class='page' id='page'>
<ul class='breadcrumb'>
<li class='active'>Blog</li>
<li class='active'>2018</li>
<li class='active'>08</li>
</ul>

<section class='container content' id='content'>
<!--[if lt IE 7]>
<p class="chromeframe">You are using an outdated browser.
<a href="http://browsehappy.com/">Upgrade your browser today</a> or
<a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better experience this site.</p>
<![endif]-->
<section class='blog-post-page row'>
<div class='col-md-10 col-md-offset-1'>
<article class='post hentry'>
<header class='post-header'>
<h2 class='post-title entry-title'>
Skydive With oVirt
</h2>
<header class='post-meta'>
<div class='blogger_avatar'>
<img src='/blogger_avatars/mburman.png'>
</div>
<span class='byline'>
by
<span class='author vcard'>
<a href="/blog/author/mburman/">Michael Burman</a>
</span>
&ndash;
</span>
<time class='published' datetime='2018-08-02T09:01:00Z'>
Thursday  2 August 2018
</time>
</header>
</header>
<section class='post-content entry-content'>
<p><a href="http://skydive.network/">Skydive network</a> is an open source real-time network topology and protocols analyzer providing a comprehensive way of understanding what is happening in your network infrastructure.
The common use cases will be, troubleshooting, monitoring, SDN integration and much more.
It has features such as:</p>
<ul>
  <li>Topology capturing - Captures network topology, interface, bridge and more</li>
  <li>Flow capture - Distributed probe, L2-L4 classifier, GRE, VXLAN, GENEVE, MPLS/GRE, MPLS/UDP tunnelling support</li>
  <li>Extendable - Support for external SDN Controllers or container based infrastructure, OpenStack. Supports extensions through API</li>
</ul>

<h2 id="benefit-to-ovirt-users">Benefit to oVirt users</h2>
<p>Skydive allows oVirt administrators to see the network configuration and topology of their oVirt cluster.
Administrators can capture traffic from VM1 to VM2 or monitor the traffic between VMs or hosts.
Skydive can generate traffic between 2 running VMs on different hosts and then analyze.
Administrators can create alerts in Skydive UI to notify when traffic is disconnected or down.</p>

<p></p>

<h2 id="installation-steps">Installation steps</h2>
<ol>
  <li><code>git clone https://github.com/skydive-project/skydive.git</code></li>
  <li>
    <p>Create inventory file</p>

<div class="highlight"><pre class="highlight ini"><code> <span class="nn">[skydive:children]</span>&#x000A; <span class="err">analyzers</span>&#x000A; <span class="err">agents</span>&#x000A;&#x000A; <span class="nn">[skydive:vars]</span>&#x000A; <span class="py">skydive_listen_ip</span><span class="p">=</span><span class="s">0.0.0.0</span>&#x000A; <span class="py">skydive_fabric_default_interface</span><span class="p">=</span><span class="s">ovirtmgmt</span>&#x000A;&#x000A; <span class="py">skydive_os_auth_url</span><span class="p">=</span><span class="s">https://&lt;ovn_provider_FQDN&gt;:35357/v2.0</span>&#x000A; <span class="py">skydive_os_service_username</span><span class="p">=</span><span class="s">&lt;ovn_provider_username&gt;</span>&#x000A; <span class="py">skydive_os_service_password</span><span class="p">=</span><span class="s">&lt;ovn_provider_password&gt;</span>&#x000A; <span class="py">skydive_os_service_tenant_name</span><span class="p">=</span><span class="s">service</span>&#x000A; <span class="py">skydive_os_service_domain_name</span><span class="p">=</span><span class="s">Default</span>&#x000A; <span class="py">skydive_os_service_region_name</span><span class="p">=</span><span class="s">RegionOne</span>&#x000A;&#x000A; <span class="nn">[analyzers]</span>&#x000A; <span class="err">&lt;analyzer_FQDN&gt;</span> <span class="py">ansible_ssh_user</span><span class="p">=</span><span class="s">root ansible_ssh_pass=&lt;ssh_password&gt;</span>&#x000A;&#x000A; <span class="nn">[agents]</span>&#x000A; <span class="err">&lt;agent_FQDN&gt;</span> <span class="py">ansible_ssh_user</span><span class="p">=</span><span class="s">root ansible_ssh_pass=&lt;ssh_password&gt;</span>&#x000A; <span class="err">&lt;agent_FQDN&gt;</span> <span class="py">ansible_ssh_user</span><span class="p">=</span><span class="s">root ansible_ssh_pass=&lt;ssh_password&gt;</span>&#x000A; <span class="err">&lt;agent_FQDN&gt;</span> <span class="py">ansible_ssh_user</span><span class="p">=</span><span class="s">root ansible_ssh_pass=&lt;ssh_password&gt;</span>&#x000A; <span class="err">&lt;agent_FQDN&gt;</span> <span class="py">ansible_ssh_user</span><span class="p">=</span><span class="s">root ansible_ssh_pass=&lt;ssh_password&gt;</span>&#x000A;&#x000A; <span class="nn">[agents:vars]</span>&#x000A; <span class="py">skydive_extra_config</span><span class="p">=</span><span class="s">{'agent.topology.probes': ['ovsdb', 'neutron'], 'agent.topology.neutron.ssl_insecure': true}</span>&#x000A;</code></pre></div>    <ul>
      <li>skydive_os_auth_url - This is the FQDN(hostname or IP) address of ovirt-provider-ovn</li>
      <li>skydive_os_service_username - oVirt username used to authenticate the ovirt-provider-ovn, e.g. admin@internal</li>
      <li>analyzer_FQDN will be the hostname of your analyzer</li>
      <li>agent_FQDN will be the hostname of the hosts running in oVirt</li>
    </ul>
  </li>
  <li><code>cd git/skydive/contrib/ansible</code></li>
  <li><code>ansible-playbook -i inventory.file playbook.yml.sample</code></li>
  <li>Open port 8082 on the analyzer host - In the future this port will be opened by default after deploy</li>
  <li>Connect to skydive UI http://analyzer_FQDN:8082</li>
</ol>

<h2 id="examples">Examples</h2>
<p>In this screenshot we can see the neutron metadata of vnet1, which has an openstack icon next to it.
The neutron metadata contains the vnet IPv4 and IPv6, Network's ID, Network's name, port ID, Tenant ID
<img alt="" width="1683" height="772" src="/images/../images/blog/2018-07-30/skydive_neutron_metadata.png?1560777613" /></p>

<p>In this screenshot we can see 2 capture points(red points) between vnet0 and vnet1 and see traffic of 1Gb between the VMs
<img alt="" width="1657" height="760" src="/images/../images/blog/2018-07-30/skydive_capture.png?1560777613" /></p>


</section>
<footer class='post-meta'>
<div class='tags'>
Tags:
<ul class='taglist'></ul>
<li><a href="../../tag/network.html">network</a></li>
<li><a href="../../tag/open-source-virtualization.html">open source virtualization</a></li>
<li><a href="../../tag/ovirt.html">oVirt</a></li>
<li><a href="../../tag/ovirt-4-2.html">oVirt 4.2</a></li>
</div>
</footer>
</article>

<section id='blog-comments'></section>
</div>
</section>

</section>
</section>
</section>
<footer class='text-center' id='footer'>
<hr class='visible-print'>
<ul class='footer-nav-list'>
<li><a target="_blank" href="../../../site/privacy-policy.html">Privacy policy</a></li>
<li><a target="_blank" href="../../../community/about.html">About</a></li>
<li><a target="_blank" href="../../../site/general-disclaimer.html">Disclaimers</a></li>
</ul>

&copy; 2013&ndash;2019 oVirt
<div class='edit-this-page'>
<a target="_blank" href="https://github.com/oVirt/ovirt-site/issues/new?labels=content&amp;title=Issue:%20/source/blog/2018-08-02-Skydive-With-oVirt.html.md&amp;template="><i class="icon fa fa-github"></i>Report an issue with this page</a>
</div>
<div class='edit-this-page'>
<a target="_blank" href="https://github.com/oVirt/ovirt-site/edit/master/source/blog/2018-08-02-Skydive-With-oVirt.html.md"><i class="icon fa fa-github"></i>Edit this page</a>
</div>
<div class='last-modified'>
Page last modified
Sun 5 Aug 2018 19:28 UTC
</div>
        <script type="text/javascript">
        var _paq = _paq || [];
        _paq.push(['trackPageView']);
        _paq.push(['enableLinkTracking']);
        (function() {
        var u=(("https:" == document.location.protocol) ? "https" : "http") + "://stats.phx.ovirt.org/";
        _paq.push(['setTrackerUrl', u+'piwik.php']);
        _paq.push(['setSiteId', 1]);
        var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0]; g.type='text/javascript';
        g.defer=true; g.async=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
        })();
        </script>
<noscript><p><img src="https://stats.phx.ovirt.org/piwik.php?idsite=1" style="border:0;" alt="" /></p></noscript>
</footer>


<script src="/javascripts/application.js?1560777657" type="text/javascript"></script>

</body>
</html>
