<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie10 lt-ie9 lt-ie8 lt-ie7" lang="en-us"> <![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie10 lt-ie9 lt-ie8" lang="en-us"> <![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie10 lt-ie9" lang="en-us"> <![endif]-->
<!--[if IE 9]> <html class="no-js lt-ie10 lt-ie9" lang="en-us"> <![endif]-->
<!--[if lt IE 10]> <html class="no-js lt-ie10" lang="en-us"> <![endif]-->
<!--[if !IE]> > <![endif]-->
<html class='no-js' lang='en'>
<!-- <![endif] -->
<head>
<title>
LLDP Information Now Available via the Administration Portal &mdash;
oVirt
</title>
<meta charset='utf-8'>
<meta content='' name='description'>
<meta content='amusil' name='author'>
<meta content='initial-scale=1.0,user-scalable=no,maximum-scale=1,width=device-width' name='viewport'>
<link href='/blog/feed.xml' rel='alternate' title='Atom feed' type='application/atom+xml'>
<!-- Open Graph (FB / G+) -->
<meta content='article' property='og:type'>
<meta content='LLDP Information Now Available via the Administration Portal' property='og:title'>
<meta content='In oVirt 4.2 we have introduced support for the Link Layer Discovery Protocol (LLDP).
It is used by network devices for advertising the identity and capabilities to
neighbors on a LAN. The information gathered by the protocol can be used for better
network configuration. Learn more about LLDP.' property='og:description'>
<meta content='http://ovirt.org/blog/2017/11/webadmin-lldp.html' property='og:url'>
<meta content='2017-11-22T09:00:00Z' property='article:published_time'>
<meta content='amusil' property='article:author:username'>
<meta content='networking' property='article:tag'>
<link href='/blog/tag/networking.xml' rel='alternate' title='Atom feed' type='application/atom+xml'>
<meta content='webadmin' property='article:tag'>
<link href='/blog/tag/webadmin.xml' rel='alternate' title='Atom feed' type='application/atom+xml'>
<!-- Twitter card -->
<meta content='summary' name='twitter:card'>
<meta content='LLDP Information Now Available via the Administration Portal' name='twitter:title'>
<meta content='In oVirt 4.2 we have introduced support for the Link Layer Discovery Protocol (LLDP).
It is used by network devices for advertising the identity and capabilities to
neighbors on a LAN. The information gathered by the protocol can be used for better
network configuration. Learn more about LLDP.' name='twitter:description'>

<link href='/images/favicon.ico' rel='shortcut icon'>
<link href='/images/apple-touch-icon-precomposed.png' rel='apple-touch-icon-precomposed'>
<link href='/images/apple-touch-icon-57x57-precomposed.png' rel='apple-touch-icon-precomposed' sizes='57x57'>
<link href='/images/apple-touch-icon-72x72-precomposed.png' rel='apple-touch-icon-precomposed' sizes='72x72'>
<link href='/images/apple-touch-icon-114x114-precomposed.png' rel='apple-touch-icon-precomposed' sizes='114x114'>
<link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet'>
<link href="/stylesheets/application.css?1560777611" rel="stylesheet" type="text/css" />
<link href="/stylesheets/print.css?1560777612" rel="stylesheet" type="text/css" media="print" />
</head>
<body class=' source-md'>
<header class='masthead hidden-print' id='branding' role='banner'>
<section class='hgroup'></section>
<div id='access'>
<nav id="mainNav" class="navbar-fixed-top affix-top navForMobileHack" style="font-family: 'Open Sans', sans-serif; display: flex; justify-content: center;">
      <a href="/"><img id="logo" style="float: left; margin-right: 70px; height: 40px; padding: 0; margin-top: 12px;" alt="oVirt" src="/images/logo.svg"></a>
      <div>
          <div class="navbar-header page-scroll" style="min-width: 170px">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#menu_id0980fddf">
                  <span class="sr-only">Toggle navigation</span> Menu <i class="fa fa-bars"></i>
              </button>
          </div>

          <!-- Collect the nav links, forms, and other content for toggling -->
          <div class="collapse navbar-collapse" id="menu_id0980fddf">

              <ul class="nav navbar-nav">
                  <li class="hidden active">
                      <a href="#page-top"></a>
                  </li>
<li role='menuitem'>
  <a href='/'>Home</a>
</li>

<li role='menuitem'>
  <a href='/download/'>Download</a>
</li>

<li role='menuitem'>
  <a href='/documentation/'>Documentation</a>
</li>

<li role='menuitem'>
  <a href='/develop/'>Developers</a>
</li>

<li role='menuitem'>
  <a href='/community/'>Community</a>
</li>

<li role='menuitem'>
  <a href='//lists.ovirt.org/archives/'>Forum</a>
</li>

<li role='menuitem'>
  <a href='/blog/'>Blog</a>
</li>

              </ul>
          </div>
          <!-- /.navbar-collapse -->
      </div>
      <!-- /.container-fluid -->
  </nav>

</div>
</header>

<section class='page-wrap' id='page-wrap'>
<section class='page' id='page'>
<ul class='breadcrumb'>
<li class='active'>Blog</li>
<li class='active'>2017</li>
<li class='active'>11</li>
</ul>

<section class='container content' id='content'>
<!--[if lt IE 7]>
<p class="chromeframe">You are using an outdated browser.
<a href="http://browsehappy.com/">Upgrade your browser today</a> or
<a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better experience this site.</p>
<![endif]-->
<section class='blog-post-page row'>
<div class='col-md-10 col-md-offset-1'>
<article class='post hentry'>
<header class='post-header'>
<h2 class='post-title entry-title'>
LLDP Information Now Available via the Administration Portal
</h2>
<header class='post-meta'>
<div class='blogger_avatar'>
<img src='/blogger_avatars/amusil.png'>
</div>
<span class='byline'>
by
<span class='author vcard'>
<a href="/blog/author/amusil/">amusil</a>
</span>
&ndash;
</span>
<time class='published' datetime='2017-11-22T09:00:00Z'>
Wednesday 22 November 2017
</time>
</header>
</header>
<section class='post-content entry-content'>
<p>In oVirt 4.2 we have introduced support for the Link Layer Discovery Protocol (LLDP).
It is used by network devices for advertising the identity and capabilities to
neighbors on a LAN. The information gathered by the protocol can be used for better
network configuration. <a href="https://learningnetwork.cisco.com/docs/DOC-26851">Learn more about LLDP</a>.</p>

<p></p>

<h2 id="why-do-you-need-lldp">Why do you need LLDP?</h2>

<p>When adding a host into oVirt cluster, the network administrator usually needs to attach
various networks to it. However, a modern host can have multiple interfaces, each
with its non-descriptive name.</p>

<h2 id="examples">Examples</h2>

<p>In the screenshot below, taken from the Administration Portal, a network administrator has to know
to which interface to attach the network named <code>m2</code> with VLAN_ID 162. Should it be interface
<code>enp4s0</code>, <code>ens2f0</code> or even <code>ens2f1</code>? With oVirt 4.2, the administrator can hover over <code>enp4s0</code>
and see that this interface is connected to peer switch <code>rack01-sw03-lab4</code>, and learn that this
peer switch does not support VLAN 162 on this interface. By looking at every interface, the
administrator can choose which interface is the right option for network<code>m2</code>.</p>

<p><img alt="screen" width="892" height="674" src="/images/../images/blog/2017-10-27/regular.png?1560777613" /></p>

<p>A similar situation arises with the configuration of mode 4 bonding (LACP). Configurating LACP
usually starts with network administrator defining a port group on their switch. These ports are
are physically connected to interfaces in a hypervisor. But to which of the many interfaces that
this hypervisor may have?</p>

<p>For example, when creating<code>bond0</code> (See screenshot below), it is important to pick interfaces that
are connected to the same switch, and that these ports belong to the same <code>port group</code>. Often, an
oVirt administrator might choose the wrong interfaces, and end up with badly configured bonds.</p>

<p>With LLDP information, this can easily be avoided. The administrator can tell which is the peer of
each interface, and to which port group it is connected. For example, <code>enp4s0</code> is
connected to port <code>GigabitEthernet0/9</code> and <code>enp6s0</code> is connected to port
<code>GigabitEthernet0/10</code> on the same peer switch named <code>rack03-sw02-lab4</code>.</p>

<p><img alt="screen" width="890" height="668" src="/images/../images/blog/2017-10-27/bond0_0.png?1560777613" /></p>

<p><img alt="screen" width="887" height="662" src="/images/../images/blog/2017-10-27/bond0_1.png?1560777613" /></p>

<p>The final screenshot (below) shows the information available to the administrator via
the Administration Portal. This includes System name, Port description, Aggregation information, MTU, VLAN IDs and names.</p>

<p><img alt="screen" width="897" height="659" src="/images/../images/blog/2017-10-27/every_info.png?1560777613" /></p>

<h2 id="where-to-find-the-lldp-information">Where to find the LLDP information?</h2>

<p>Log in the <strong>Administration Portal</strong>. From the vertical menu select <strong>Compute</strong> &gt;
<strong>Hosts</strong> and choose a host by clicking on its Name link.
Select <strong>Network Interfaces</strong> &gt; <strong>Setup Host Networks</strong>. Hover over each interface to reveal a tooltip
with the relevant information.</p>

<h3 id="non-ui-approach">Non-UI approach</h3>

<p>The LLDP information is also exposed via REST API.
More information is available in <a href="http://ovirt.github.io/ovirt-engine-api-model/4.2/#services/link_layer_discovery_protocol">REST API documentation</a>.</p>

</section>
<footer class='post-meta'>
<div class='tags'>
Tags:
<ul class='taglist'></ul>
<li><a href="../../tag/networking.html">networking</a></li>
<li><a href="../../tag/webadmin.html">webadmin</a></li>
</div>
</footer>
</article>

<section id='blog-comments'></section>
</div>
</section>

</section>
</section>
</section>
<footer class='text-center' id='footer'>
<hr class='visible-print'>
<ul class='footer-nav-list'>
<li><a target="_blank" href="../../../site/privacy-policy.html">Privacy policy</a></li>
<li><a target="_blank" href="../../../community/about.html">About</a></li>
<li><a target="_blank" href="../../../site/general-disclaimer.html">Disclaimers</a></li>
</ul>

&copy; 2013&ndash;2019 oVirt
<div class='edit-this-page'>
<a target="_blank" href="https://github.com/oVirt/ovirt-site/issues/new?labels=content&amp;title=Issue:%20/source/blog/2017-11-22-webadmin-lldp.html.md&amp;template="><i class="icon fa fa-github"></i>Report an issue with this page</a>
</div>
<div class='edit-this-page'>
<a target="_blank" href="https://github.com/oVirt/ovirt-site/edit/master/source/blog/2017-11-22-webadmin-lldp.html.md"><i class="icon fa fa-github"></i>Edit this page</a>
</div>
<div class='last-modified'>
Page last modified
Wed 22 Nov 2017 15:11 UTC
</div>
        <script type="text/javascript">
        var _paq = _paq || [];
        _paq.push(['trackPageView']);
        _paq.push(['enableLinkTracking']);
        (function() {
        var u=(("https:" == document.location.protocol) ? "https" : "http") + "://stats.phx.ovirt.org/";
        _paq.push(['setTrackerUrl', u+'piwik.php']);
        _paq.push(['setSiteId', 1]);
        var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0]; g.type='text/javascript';
        g.defer=true; g.async=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
        })();
        </script>
<noscript><p><img src="https://stats.phx.ovirt.org/piwik.php?idsite=1" style="border:0;" alt="" /></p></noscript>
</footer>


<script src="/javascripts/application.js?1560777657" type="text/javascript"></script>

</body>
</html>
