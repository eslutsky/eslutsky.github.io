<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie10 lt-ie9 lt-ie8 lt-ie7" lang="en-us"> <![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie10 lt-ie9 lt-ie8" lang="en-us"> <![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie10 lt-ie9" lang="en-us"> <![endif]-->
<!--[if IE 9]> <html class="no-js lt-ie10 lt-ie9" lang="en-us"> <![endif]-->
<!--[if lt IE 10]> <html class="no-js lt-ie10" lang="en-us"> <![endif]-->
<!--[if !IE]> > <![endif]-->
<html class='no-js' lang='en'>
<!-- <![endif] -->
<head>
<title>
oVirt 4.0.4 Release Notes &mdash;
oVirt
</title>
<meta charset='utf-8'>
<meta content='' name='description'>
<meta content='' name='author'>
<meta content='initial-scale=1.0,user-scalable=no,maximum-scale=1,width=device-width' name='viewport'>

<link href='/images/favicon.ico' rel='shortcut icon'>
<link href='/images/apple-touch-icon-precomposed.png' rel='apple-touch-icon-precomposed'>
<link href='/images/apple-touch-icon-57x57-precomposed.png' rel='apple-touch-icon-precomposed' sizes='57x57'>
<link href='/images/apple-touch-icon-72x72-precomposed.png' rel='apple-touch-icon-precomposed' sizes='72x72'>
<link href='/images/apple-touch-icon-114x114-precomposed.png' rel='apple-touch-icon-precomposed' sizes='114x114'>
<link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet'>
<link href="/stylesheets/application.css?1560777611" rel="stylesheet" type="text/css" />
<link href="/stylesheets/print.css?1560777612" rel="stylesheet" type="text/css" media="print" />
</head>
<body class=' source-md'>
<header class='masthead hidden-print' id='branding' role='banner'>
<section class='hgroup'></section>
<div id='access'>
<nav id="mainNav" class="navbar-fixed-top affix-top navForMobileHack" style="font-family: 'Open Sans', sans-serif; display: flex; justify-content: center;">
      <a href="/"><img id="logo" style="float: left; margin-right: 70px; height: 40px; padding: 0; margin-top: 12px;" alt="oVirt" src="/images/logo.svg"></a>
      <div>
          <div class="navbar-header page-scroll" style="min-width: 170px">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#menu_id0980fddf">
                  <span class="sr-only">Toggle navigation</span> Menu <i class="fa fa-bars"></i>
              </button>
          </div>

          <!-- Collect the nav links, forms, and other content for toggling -->
          <div class="collapse navbar-collapse" id="menu_id0980fddf">

              <ul class="nav navbar-nav">
                  <li class="hidden active">
                      <a href="#page-top"></a>
                  </li>
<li role='menuitem'>
  <a href='/'>Home</a>
</li>

<li role='menuitem'>
  <a href='/download/'>Download</a>
</li>

<li role='menuitem'>
  <a href='/documentation/'>Documentation</a>
</li>

<li role='menuitem'>
  <a href='/develop/'>Developers</a>
</li>

<li role='menuitem'>
  <a href='/community/'>Community</a>
</li>

<li role='menuitem'>
  <a href='//lists.ovirt.org/archives/'>Forum</a>
</li>

<li role='menuitem'>
  <a href='/blog/'>Blog</a>
</li>

              </ul>
          </div>
          <!-- /.navbar-collapse -->
      </div>
      <!-- /.container-fluid -->
  </nav>

</div>
</header>

<section class='page-wrap' id='page-wrap'>
<section class='page' id='page'>
<ul class='breadcrumb'>
<li><a href="/release/">Release</a></li>
<li class='active'>oVirt 4.0.4 Release Notes</li>
</ul>

<section class='container content' id='content'>
<!--[if lt IE 7]>
<p class="chromeframe">You are using an outdated browser.
<a href="http://browsehappy.com/">Upgrade your browser today</a> or
<a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better experience this site.</p>
<![endif]-->
<h1 id="ovirt-404-release-notes">oVirt 4.0.4 Release Notes</h1>

<p>The oVirt Project is pleased to announce the availability of oVirt 4.0.4
Release as of September 26th, 2016.</p>

<p>oVirt is an open source alternative to VMware™ vSphere™, and provides an awesome
KVM management interface for multi-node virtualization.
This release is available now for Red Hat Enterprise Linux 7.2, CentOS Linux 7.2 (or similar).</p>

<p>To find out more about features which were added in previous oVirt releases,
check out the <a href="/develop/release-management/releases/">previous versions release notes</a>.
For a general overview of oVirt, read <a href="/documentation/quickstart/quickstart-guide/">the Quick Start Guide</a>
and the <a href="../../community/about.html">about oVirt</a> page.</p>

<p>An updated documentation has been provided by our downstream 
<a href="https://access.redhat.com/documentation/en/red-hat-virtualization?version=4.0/">Red Hat Virtualization</a></p>

<ol id="markdown-toc">
  <li><a id="markdown-toc-ovirt-404-release-notes" href="#ovirt-404-release-notes">oVirt 4.0.4 Release Notes</a>    <ol>
      <li><a id="markdown-toc-install--upgrade-from-previous-versions" href="#install--upgrade-from-previous-versions">Install / Upgrade from previous versions</a>        <ol>
          <li><a id="markdown-toc-fedora--centos--rhel" href="#fedora--centos--rhel">Fedora / CentOS / RHEL</a></li>
          <li><a id="markdown-toc-ovirt-hosted-engine" href="#ovirt-hosted-engine">oVirt Hosted Engine</a></li>
        </ol>
      </li>
      <li><a id="markdown-toc-known-issues" href="#known-issues">Known issues</a></li>
      <li><a id="markdown-toc-whats-new-in-404" href="#whats-new-in-404">What's New in 4.0.4?</a>        <ol>
          <li><a id="markdown-toc-enhancements" href="#enhancements">Enhancements</a>            <ol>
              <li><a id="markdown-toc-ovirt-engine" href="#ovirt-engine">oVirt Engine</a>                <ol>
                  <li><a id="markdown-toc-team-infra" href="#team-infra">Team: Infra</a></li>
                  <li><a id="markdown-toc-team-virt" href="#team-virt">Team: Virt</a></li>
                </ol>
              </li>
              <li><a id="markdown-toc-ovirt-hosted-engine-setup" href="#ovirt-hosted-engine-setup">oVirt Hosted Engine Setup</a>                <ol>
                  <li><a id="markdown-toc-team-integration" href="#team-integration">Team: Integration</a></li>
                </ol>
              </li>
              <li><a id="markdown-toc-mom" href="#mom">MOM</a>                <ol>
                  <li><a id="markdown-toc-team-sla" href="#team-sla">Team: SLA</a></li>
                </ol>
              </li>
            </ol>
          </li>
          <li><a id="markdown-toc-unclassified" href="#unclassified">Unclassified</a>            <ol>
              <li><a id="markdown-toc-ovirt-engine-1" href="#ovirt-engine-1">oVirt Engine</a>                <ol>
                  <li><a id="markdown-toc-team-gluster" href="#team-gluster">Team: Gluster</a></li>
                  <li><a id="markdown-toc-team-infra-1" href="#team-infra-1">Team: Infra</a></li>
                  <li><a id="markdown-toc-team-integration-1" href="#team-integration-1">Team: Integration</a></li>
                  <li><a id="markdown-toc-team-network" href="#team-network">Team: Network</a></li>
                  <li><a id="markdown-toc-team-sla-1" href="#team-sla-1">Team: SLA</a></li>
                  <li><a id="markdown-toc-team-storage" href="#team-storage">Team: Storage</a></li>
                  <li><a id="markdown-toc-team-ux" href="#team-ux">Team: UX</a></li>
                  <li><a id="markdown-toc-team-virt-1" href="#team-virt-1">Team: Virt</a></li>
                </ol>
              </li>
              <li><a id="markdown-toc-ovirt-engine-sdk-4-java" href="#ovirt-engine-sdk-4-java">oVirt Engine SDK 4 Java</a>                <ol>
                  <li><a id="markdown-toc-team-infra-2" href="#team-infra-2">Team: Infra</a></li>
                </ol>
              </li>
              <li><a id="markdown-toc-ovirt-engine-sdk-4-python" href="#ovirt-engine-sdk-4-python">oVirt Engine SDK 4 Python</a>                <ol>
                  <li><a id="markdown-toc-team-infra-3" href="#team-infra-3">Team: Infra</a></li>
                </ol>
              </li>
              <li><a id="markdown-toc-ovirt-engine-sdk-4-ruby" href="#ovirt-engine-sdk-4-ruby">oVirt Engine SDK 4 Ruby</a>                <ol>
                  <li><a id="markdown-toc-team-infra-4" href="#team-infra-4">Team: Infra</a></li>
                </ol>
              </li>
              <li><a id="markdown-toc-ovirt-image-transfer-daemon-and-proxy" href="#ovirt-image-transfer-daemon-and-proxy">oVirt image transfer daemon and proxy</a>                <ol>
                  <li><a id="markdown-toc-team-storage-1" href="#team-storage-1">Team: Storage</a></li>
                </ol>
              </li>
              <li><a id="markdown-toc-ovirt-iso-uploader" href="#ovirt-iso-uploader">oVirt ISO Uploader</a>                <ol>
                  <li><a id="markdown-toc-team-integration-2" href="#team-integration-2">Team: Integration</a></li>
                </ol>
              </li>
              <li><a id="markdown-toc-ovirt-log-collector" href="#ovirt-log-collector">oVirt Log collector</a>                <ol>
                  <li><a id="markdown-toc-team-integration-3" href="#team-integration-3">Team: Integration</a></li>
                </ol>
              </li>
              <li><a id="markdown-toc-vdsm" href="#vdsm">VDSM</a>                <ol>
                  <li><a id="markdown-toc-team-infra-5" href="#team-infra-5">Team: Infra</a></li>
                  <li><a id="markdown-toc-team-network-1" href="#team-network-1">Team: Network</a></li>
                  <li><a id="markdown-toc-team-storage-2" href="#team-storage-2">Team: Storage</a></li>
                  <li><a id="markdown-toc-team-virt-2" href="#team-virt-2">Team: Virt</a></li>
                </ol>
              </li>
              <li><a id="markdown-toc-imgbased" href="#imgbased">imgbased</a>                <ol>
                  <li><a id="markdown-toc-team-node" href="#team-node">Team: Node</a></li>
                </ol>
              </li>
            </ol>
          </li>
        </ol>
      </li>
      <li><a id="markdown-toc-bug-fixes" href="#bug-fixes">Bug fixes</a>        <ol>
          <li><a id="markdown-toc-ovirt-engine-2" href="#ovirt-engine-2">oVirt Engine</a>            <ol>
              <li><a id="markdown-toc-team-gluster-1" href="#team-gluster-1">Team: Gluster</a></li>
              <li><a id="markdown-toc-team-infra-6" href="#team-infra-6">Team: Infra</a></li>
              <li><a id="markdown-toc-team-integration-4" href="#team-integration-4">Team: Integration</a></li>
              <li><a id="markdown-toc-team-sla-2" href="#team-sla-2">Team: SLA</a></li>
              <li><a id="markdown-toc-team-storage-3" href="#team-storage-3">Team: Storage</a></li>
              <li><a id="markdown-toc-team-virt-3" href="#team-virt-3">Team: Virt</a></li>
            </ol>
          </li>
          <li><a id="markdown-toc-ovirt-host-deploy" href="#ovirt-host-deploy">oVirt Host Deploy</a>            <ol>
              <li><a id="markdown-toc-team-integration-5" href="#team-integration-5">Team: Integration</a></li>
            </ol>
          </li>
          <li><a id="markdown-toc-ovirt-hosted-engine-ha" href="#ovirt-hosted-engine-ha">oVirt Hosted Engine HA</a>            <ol>
              <li><a id="markdown-toc-team-integration-6" href="#team-integration-6">Team: Integration</a></li>
            </ol>
          </li>
          <li><a id="markdown-toc-ovirt-image-uploader" href="#ovirt-image-uploader">oVirt Image Uploader</a>            <ol>
              <li><a id="markdown-toc-team-integration-7" href="#team-integration-7">Team: Integration</a></li>
            </ol>
          </li>
        </ol>
      </li>
    </ol>
  </li>
</ol>

<h2 id="install--upgrade-from-previous-versions">Install / Upgrade from previous versions</h2>

<p>Users upgrading from 3.6 should be aware of following 4.0 changes around
authentication and certificates handling:</p>

<ol>
  <li>
    <p>Single Sign-On using OAUTH2 protocol has been implemented in engine to
allow SSO between webadmin, userportal and RESTAPI. More information can
be found at https://bugzilla.redhat.com/1092744</p>
  </li>
  <li>
    <p>Due to SSO it's required to access engine only using the same FQDN which
was specified during engine-setup invocation. If your engine FQDN is not
accessible from all engine clients, you will not be able to login. Please
use ovirt-engine-rename tool to fix your FQDN, more information can be
found at https://www.ovirt.org/documentation/how-to/networking/changing-engine-hostname/ .
If you try to access engine using IP or DNS alias, an error will be
thrown. Please consult following bugs targeted to oVirt 4.0.4 which
should fix this limitation:
  https://bugzilla.redhat.com/1325746
  https://bugzilla.redhat.com/1362196</p>
  </li>
  <li>
    <p>If you have used Kerberos SSO to access engine, please consult
https://bugzilla.redhat.com/1342192 how to update your Apache
configuration after upgrade to 4.0</p>
  </li>
  <li>
    <p>If you are using HTTPS certificate signed by custom certificate
authority, please take a look at https://bugzilla.redhat.com/1336838
for steps which need to be done after migration to 4.0. Also please
consult https://bugzilla.redhat.com/1313379 how to setup this custom
CA for use with virt-viewer clients.</p>
  </li>
</ol>

<h3 id="fedora--centos--rhel">Fedora / CentOS / RHEL</h3>

<p>In order to install it on a clean system, you need to install</p>

<p><code># yum install </code><a href="http://resources.ovirt.org/pub/yum-repo/ovirt-release40.rpm"><code>http://resources.ovirt.org/pub/yum-repo/ovirt-release40.rpm</code></a></p>

<p>and then follow our <a href="/documentation/quickstart/quickstart-guide/">Quick Start Guide</a> or
a more updated documentation from our downstream
<a href="https://access.redhat.com/documentation/en/red-hat-virtualization/4.0/">Red Hat Virtualization</a></p>

<p>If you're upgrading from a previous release on Enterprise Linux 7 you just need to execute:</p>

<div class="highlight"><pre class="highlight plaintext"><code>  # yum install http://resources.ovirt.org/pub/yum-repo/ovirt-release40.rpm&#x000A;  # yum update "ovirt-engine-setup*"&#x000A;  # engine-setup&#x000A;</code></pre></div>
<p>Upgrade on Fedora 22 and Enterprise Linux 6 is not supported and you should follow our <a href="../../documentation/migration-engine-36-to-40/">Migration Guide</a> in order to migrate to Enterprise Linux 7 or Fedora 23.</p>

<h3 id="ovirt-hosted-engine">oVirt Hosted Engine</h3>

<p>If you're going to install oVirt as Hosted Engine on a clean system please follow
<a href="/documentation/how-to/hosted-engine/#fresh-install">Hosted_Engine_Howto#Fresh_Install</a> guide or the
corresponding Red Hat Virtualization <a href="https://access.redhat.com/documentation/en/red-hat-virtualization/4.0/paged/self-hosted-engine-guide/">Self Hosted Engine Guide</a></p>

<p>If you're upgrading an existing Hosted Engine setup, please follow
<a href="/documentation/how-to/hosted-engine/#upgrade-hosted-engine">Hosted_Engine_Howto#Upgrade_Hosted_Engine</a> guide
or the corresponding Red Hat Virtualization <a href="https://access.redhat.com/documentation/en/red-hat-virtualization/4.0/paged/upgrade-guide/">Upgrade Guide</a></p>

<h2 id="known-issues">Known issues</h2>

<ul>
  <li><a href="https://bugzilla.redhat.com/1297835">BZ 1297835</a> <b>Host install fails on Fedora 23 due to lack of dep on python2-dnf</b><br />On Fedora &gt;= 23 dnf package manager with python 3 is used by default while
ovirt-host-deploy is executed by ovirt-engine using python2. This cause Host install to fail on Fedora &gt;= 23 due to lack of python2-dnf in the default environment. As workaround please install manually python2-dnf on the host before trying to add it to the engine.</li>
</ul>

<h2 id="whats-new-in-404">What's New in 4.0.4?</h2>

<h3 id="enhancements">Enhancements</h3>

<h4 id="ovirt-engine">oVirt Engine</h4>

<h5 id="team-infra">Team: Infra</h5>

<ul>
  <li><a href="https://bugzilla.redhat.com/1344020">BZ 1344020</a> <b>host upgrade should upgrade all oVirt related packages, not just "vdsm"</b><br />Previously, the host upgrade manager in the Administration Portal only checked and applied updates for the vdsm and vdsm-cli packages. Other packages had to be updated manually using "yum update". With this release, the list of packages that the host upgrade manager checks and updates has been extended to include ioprocess, mom, libvirt-client, libvirt-daemon-config-nwfilter, libvirt-daemon-kvm, libvirt-lock-sanlock, libvirt-python, lvm2, ovirt-imageio-common, ovirt-imageio-daemon, ovirt-vmconsole, ovirt-vmconsole-host, python-ioprocess, qemu-kvm, qemu-img, sanlock, along with vdsm and vdsm-cli.</li>
</ul>

<h5 id="team-virt">Team: Virt</h5>

<ul>
  <li><a href="https://bugzilla.redhat.com/1302657">BZ 1302657</a> <b>[RFE] Switch from vnc/cirrus to vnc/vga</b><br />With this update, the default VNC graphics in Red Hat Virtualization 4.0 is VGA. Imported virtual machines with VNC/Cirrus, and originating in previous compatibility versions, are automatically upgraded to VNC/VGA. However, QXL is still the preferred default graphics, if the guest operating system supports it.</li>
</ul>

<h4 id="ovirt-hosted-engine-setup">oVirt Hosted Engine Setup</h4>

<h5 id="team-integration">Team: Integration</h5>

<ul>
  <li><a href="https://bugzilla.redhat.com/1333449">BZ 1333449</a> <b>RFE: Remove virt-viewer dependency in favor of text only method</b><br />Change –console option to provide access to serial console instead of calling virt-viewer.</li>
  <li><a href="https://bugzilla.redhat.com/1368604">BZ 1368604</a> <b>HE_APPLIANCE_ENGINE_SETUP_FAIL - Setup found legacy kerberos/ldap directory intergration</b><br />oVirt 4.0 doesn't support anymore the legacy directory integration. Adding a check for it in the upgrade procedure since the migration to the new aaa provider could to be performed only while on 3.6</li>
</ul>

<h4 id="mom">MOM</h4>

<h5 id="team-sla">Team: SLA</h5>

<ul>
  <li><a href="https://bugzilla.redhat.com/1201482">BZ 1201482</a> <b>Storage QoS is not applying on a Live VM/disk</b><br />To properly support disk hot plug and disk QoS changes for a running virtual machine, MoM is updated and now reads the IO QoS settings from metadata and sets the respective ioTune limits to a running virtual machine's disk.</li>
</ul>

<h3 id="unclassified">Unclassified</h3>

<h4 id="ovirt-engine-1">oVirt Engine</h4>

<h5 id="team-gluster">Team: Gluster</h5>

<ul>
  <li><a href="https://bugzilla.redhat.com/1353289">BZ 1353289</a> <b>Gluster: creating a brick display TiB instead GiB as size for block device</b><br /></li>
</ul>

<h5 id="team-infra-1">Team: Infra</h5>

<ul>
  <li><a href="https://bugzilla.redhat.com/1367557">BZ 1367557</a> <b>HA VMs are not restarted on different host if NonResponsive host is off and start action failed</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1368552">BZ 1368552</a> <b>User unable to query disks of assigned VM</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1366794">BZ 1366794</a> <b>API V3: can't force delete datacenter</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1371515">BZ 1371515</a> <b>Exception on GetUserProfileQuery (unknown cause) : "The column name user_portal_vm_auto_login was not found in this ResultSet"</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1362459">BZ 1362459</a> <b>Fix our own implementation uuid_generate_v1() to produce more random values</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1368134">BZ 1368134</a> <b>The Host OS version parts are not reported</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1367921">BZ 1367921</a> <b>[AAA] "Request state does not match session state" after successful login</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1366927">BZ 1366927</a> <b>Wrong error message passed from SSO on password grant type failure</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1364804">BZ 1364804</a> <b>[engine-backend] Compensation context data is cleared although the data wasn't reverted on parent-child command scenario</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1367398">BZ 1367398</a> <b>remove org.ovirt.engine.api.json and org.ovirt.engine.api.xml packages</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1367400">BZ 1367400</a> <b>cpu_profile permits are missing under /capabilities in v3</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1360378">BZ 1360378</a> <b>engine startup fails if you have commands in command_entity table that refer to entities that have already been removed</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1360373">BZ 1360373</a> <b>When failing on command execution after one task was created the command will reach endSuccesfully() instead of endWithFailure()</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1362196">BZ 1362196</a> <b>aaa: Add support for dynamic porting</b><br />A new config variable has been added ENGINE_SSO_INSTALLED_ON_ENGINE_HOST.<br /><br />This flag can be used to specify if the SSO service is installed on the same host as the engine or installed on a different host. If set to true the URL and port used to access engine is used to redirect to the login page. If set to false the value set in ENGINE_SSO_AUTH_URL is used to redirect user to login page.</li>
  <li><a href="https://bugzilla.redhat.com/1359139">BZ 1359139</a> <b>The "creation_status" resources don't work with V3</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1358434">BZ 1358434</a> <b>Restapi access should create sessions only if persistent_auth is requested</b><br /></li>
</ul>

<h5 id="team-integration-1">Team: Integration</h5>

<ul>
  <li><a href="https://bugzilla.redhat.com/1372230">BZ 1372230</a> <b>Cannot setup a separate host for DWH after upgrading to oVirt 4 (4.0.3)</b><br /></li>
</ul>

<h5 id="team-network">Team: Network</h5>

<ul>
  <li><a href="https://bugzilla.redhat.com/1374475">BZ 1374475</a> <b>REST V3 and V4| ovirt-engine/api/events return Operation Failed</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1372950">BZ 1372950</a> <b>Engine fail to start with NPE No default constructor for ManageNetworkClustersParameters["attachments"]</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1371119">BZ 1371119</a> <b>Null ipv6 in IpConfiguration after 3.6-&gt;4.0 upgrade</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1359643">BZ 1359643</a> <b>The page /api/v3/networkfilters does not exist, while the link to networkfilters under /api/v3 does exist</b><br /></li>
</ul>

<h5 id="team-sla-1">Team: SLA</h5>

<ul>
  <li><a href="https://bugzilla.redhat.com/1339660">BZ 1339660</a> <b>Hosted Engine's disk is in Unassigned Status in the RHEV UI</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1350228">BZ 1350228</a> <b>Add affinity label to the VM or to the host does not return in response body entity</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1361838">BZ 1361838</a> <b>[Disk profile] Cannot add VM. Disk Profile YYY with id XXX is not assigned to Storage Domain ZZZ</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1359483">BZ 1359483</a> <b>[Admin Portal] Uncaught exception during deletion of disk profiles on storage domain</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1346250">BZ 1346250</a> <b>Can not delete read_only affinity label</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1351519">BZ 1351519</a> <b>Audit error connect to affinity labels under engine.log</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1342928">BZ 1342928</a> <b>Pass through host CPU is not enabled with manual migration</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1353059">BZ 1353059</a> <b>Slightly misleading log when using OptimalForPowerSaving Balancer.</b><br /></li>
</ul>

<h5 id="team-storage">Team: Storage</h5>

<ul>
  <li><a href="https://bugzilla.redhat.com/1369024">BZ 1369024</a> <b>[API] Can't attach disk to VM with UserVMManager role</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1357548">BZ 1357548</a> <b>RFE: upload image - verify image format on client side</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1372650">BZ 1372650</a> <b>Can not edit description and comment for a storage domain after activation.</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1371304">BZ 1371304</a> <b>Uncaught exception occured when try to import Virtual Machine from Export domain</b><br />Previously, when trying to import a vm that is based on a template from an export domain via the webadmin, if the template did not exist then a UI error was shown and the new popup window got stuck.<br />Now the popup window is loaded and a red warning is shown - "Some imported VMs depend on one or more templates which are not available in the system. Therefore you must Import those VMs with 'collapse snapshots', another option is to Import missing templates first and then try import the VMs again".<br /><br />This is a UI issue, so it does not occur in REST API and SDKs.</li>
  <li><a href="https://bugzilla.redhat.com/1371164">BZ 1371164</a> <b>New VM created without disk</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1370101">BZ 1370101</a> <b>RefreshLunsSizeCommand doesn't update the new LUNs' sizes in the DB</b><br />Previously, after resizing a lun, checking the storage domain's size gave us the new value, but checking the lun's size gave us the old one.<br />This bug was fixed and now the new size is immediately updated, so checking it right after the resize brings the updated value.</li>
  <li><a href="https://bugzilla.redhat.com/1370912">BZ 1370912</a> <b>Compensation mechanism does not work for RefreshLunsSizeCommand</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1368954">BZ 1368954</a> <b>CDA log of attaching second boot disk is wrong</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1365087">BZ 1365087</a> <b>new VM disk is not marked as "bootable" by default</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1367416">BZ 1367416</a> <b>Missing Scroll bar for VG selection in  "Import Pre-Configured Domain" window</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1365393">BZ 1365393</a> <b>Delete disk snapshots (in the storage-&gt;disk snapshots subtab) fails to update engine database</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1364780">BZ 1364780</a> <b>Failure when updating VM that is previewing a snapshot</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1359788">BZ 1359788</a> <b>[engine-backend] Storage domain gets stuck in locked during storage pool initialization after a CreateStoragePool failure</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1352857">BZ 1352857</a> <b>image upload: informative message is required when disk's entered values are not valid</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1358271">BZ 1358271</a> <b>[v4 API only]: <logical_name> property (device name for disk) missing from disk attachments v4&lt;/b&gt;<br /></logical_name></b></li>
</ul>

<h5 id="team-ux">Team: UX</h5>

<ul>
  <li><a href="https://bugzilla.redhat.com/1371195">BZ 1371195</a> <b>Calculation of average storage domains is wrong for dashboards</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1364337">BZ 1364337</a> <b>iSCSI Initiator Name is not wrapped</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1365980">BZ 1365980</a> <b>Hide the Reports-related "Dashboard" main tab</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1369235">BZ 1369235</a> <b>main/sub tab action buttons added by UI plugins are not shown</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1361656">BZ 1361656</a> <b>UI plugin API: loginUserName and loginUserId functions return null before WebAdmin UI is fully initialized</b><br /></li>
</ul>

<h5 id="team-virt-1">Team: Virt</h5>

<ul>
  <li><a href="https://bugzilla.redhat.com/1356172">BZ 1356172</a> <b>the message "snapshot created in different cluster version" is shown all the time</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1362525">BZ 1362525</a> <b>Import KVM guest image: cannot convert VM with block device to block device.</b><br />User cannot import VM from KVM source to oVirt when the destination storage domain is block device due to incorrect disk allocation space.<br />Our current solution is allocating the virtual size of the disk.</li>
  <li><a href="https://bugzilla.redhat.com/1361860">BZ 1361860</a> <b>VMs stuck in shutting down</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1366138">BZ 1366138</a> <b>Reduce the frequency of logged number of running VMs</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1364164">BZ 1364164</a> <b>Import KVM guest image: cannot import VM as clone</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1340414">BZ 1340414</a> <b>shutting down VM produces extra message</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1340025">BZ 1340025</a> <b>v2v: import dialog - invalid error message while opening dialog saying "no Export Domain is active"</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1337619">BZ 1337619</a> <b>Redundant disk allocation label in VM dialogs if the template does not have disks</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1373204">BZ 1373204</a> <b>[UI] Creating a vm/vmpool from a template with custom cluster compatibility via webadmin results in an infinite loop</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1373103">BZ 1373103</a> <b>Import dialog: "OK" button stops to function in case of moving back from second dialog to first dialog.</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1364171">BZ 1364171</a> <b>import dialog: Incorrect dialog behavior when trying to import VM with name duplication in RHEVM.</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1351542">BZ 1351542</a> <b>Help message about URI: Import virtual machine from XEN should update and from KVM should add</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1360914">BZ 1360914</a> <b>Create Snapshot UI Dialog missing scrollbar</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1360397">BZ 1360397</a> <b>host installed with bad kernel cmdline for nested virtualization</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1361193">BZ 1361193</a> <b>v2v: import dialog - SSL Verification field for VMware should be renamed to "verify server's SSL certificate"</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1354511">BZ 1354511</a> <b>v2v: import dialog - tooltip for URI field of XEN source is truncated</b><br /></li>
</ul>

<h4 id="ovirt-engine-sdk-4-java">oVirt Engine SDK 4 Java</h4>

<h5 id="team-infra-2">Team: Infra</h5>

<ul>
  <li><a href="https://bugzilla.redhat.com/1376402">BZ 1376402</a> <b>Multiple threads should be able to reuse connection of the SDK</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1372652">BZ 1372652</a> <b>The RPM for version 4 of the Java SDK doesn't include the Maven provides/requires</b><br /></li>
</ul>

<h4 id="ovirt-engine-sdk-4-python">oVirt Engine SDK 4 Python</h4>

<h5 id="team-infra-3">Team: Infra</h5>

<ul>
  <li><a href="https://bugzilla.redhat.com/1373431">BZ 1373431</a> <b>Reading empty list of elements doesn't work correctly</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1367020">BZ 1367020</a> <b>Non descriptive error message while deactivating deactivated host</b><br /></li>
</ul>

<h4 id="ovirt-engine-sdk-4-ruby">oVirt Engine SDK 4 Ruby</h4>

<h5 id="team-infra-4">Team: Infra</h5>

<ul>
  <li><a href="https://bugzilla.redhat.com/1373436">BZ 1373436</a> <b>Reading empty list of elements doesn't work correctly</b><br /></li>
</ul>

<h4 id="ovirt-image-transfer-daemon-and-proxy">oVirt image transfer daemon and proxy</h4>

<h5 id="team-storage-1">Team: Storage</h5>

<ul>
  <li><a href="https://bugzilla.redhat.com/1357942">BZ 1357942</a> <b>ovirt-imagio-daemon shouldn't be enabled by default</b><br /></li>
</ul>

<h4 id="ovirt-iso-uploader">oVirt ISO Uploader</h4>

<h5 id="team-integration-2">Team: Integration</h5>

<ul>
  <li><a href="https://bugzilla.redhat.com/1363681">BZ 1363681</a> <b>Add kerberos support to ovirt-iso-uploader</b><br /></li>
</ul>

<h4 id="ovirt-log-collector">oVirt Log collector</h4>

<h5 id="team-integration-3">Team: Integration</h5>

<ul>
  <li><a href="https://bugzilla.redhat.com/1355966">BZ 1355966</a> <b>log-collector: fails to run when param 'all' is set to True</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1363684">BZ 1363684</a> <b>Add kerberos support to ovirt-log-collector</b><br /></li>
</ul>

<h4 id="vdsm">VDSM</h4>

<h5 id="team-infra-5">Team: Infra</h5>

<ul>
  <li><a href="https://bugzilla.redhat.com/1358530">BZ 1358530</a> <b>jsonrpcclient fails connecting with the default parameters if the hostname is not resolvable</b><br />If there is an issue with resolving the host name jsonrpc client was not able to connect to vdsm. Now we use 'localhost' by default.</li>
  <li><a href="https://bugzilla.redhat.com/1368115">BZ 1368115</a> <b>vdsm config files from /etc/vdsm.conf.d don't override settings in /etc/vdsm.conf</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1350350">BZ 1350350</a> <b>[RFE] Add metrics module to vdsm</b><br /></li>
</ul>

<h5 id="team-network-1">Team: Network</h5>

<ul>
  <li><a href="https://bugzilla.redhat.com/1351095">BZ 1351095</a> <b>[RHV-H Cockpit] hosted-engine-setup fails when creating the ovirtmgmt bridge</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1353456">BZ 1353456</a> <b>[vdsm] FCoE hook doesn't enable fcoe and lldpad services to start on boot</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1364081">BZ 1364081</a> <b>[OVS] Add support to acquire ifaces with running IP config</b><br /></li>
</ul>

<h5 id="team-storage-2">Team: Storage</h5>

<ul>
  <li><a href="https://bugzilla.redhat.com/1358348">BZ 1358348</a> <b>VM qcow2 disk got corrupted after live migration</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1366176">BZ 1366176</a> <b>Failed to import image from glance as template (as a result of RHEL 7.3 LVM issue - lvextend changed return code when called with current LV size)</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1361182">BZ 1361182</a> <b>vdsm does not find nfs4 mount point with double slashes</b><br />Previously, we didn't support NFS4 mounts that contained a double slash, like in the case of trying to mount an NFS4 directory that is exported with the fsid=0 option.<br />Now it's possible to do that.</li>
</ul>

<h5 id="team-virt-2">Team: Virt</h5>

<ul>
  <li><a href="https://bugzilla.redhat.com/1367839">BZ 1367839</a> <b>Cannot import VMs from Xen and VMware when using RHEL7.3 host.</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1360990">BZ 1360990</a> <b>[z-stream clone - 4.0.4] VMs are not reported as non-responding even though  qemu process does not responds.</b><br />This update fixes a error in the monitoring code that caused the VDSM to incorrectly report that a QEMU process has recovered and is responsive after being unavailable for a short amount of time, while it was actually unresponsive.</li>
  <li><a href="https://bugzilla.redhat.com/1364924">BZ 1364924</a> <b>VMs flip to non-responsive state for ever.</b><br />This update fixes an issue in the monitoring code which caused the VDSM to fail to detect that a stuck QEMU process has become responsive.</li>
  <li><a href="https://bugzilla.redhat.com/1365411">BZ 1365411</a> <b>[RFE] virt-v2v from RHEL Xen: Listing VMs failed if there are Xen VMs with block device.</b><br />Importing Xen on Rhel VMs that have block disk is failing. The imported VM shows no block domain disk in the import details dialog.</li>
</ul>

<h4 id="imgbased">imgbased</h4>

<h5 id="team-node">Team: Node</h5>

<ul>
  <li><a href="https://bugzilla.redhat.com/1346872">BZ 1346872</a> <b>Hide boot entry of original root filesystem created by anaconda</b><br /></li>
</ul>

<h2 id="bug-fixes">Bug fixes</h2>

<h3 id="ovirt-engine-2">oVirt Engine</h3>

<h4 id="team-gluster-1">Team: Gluster</h4>

<ul>
  <li><a href="https://bugzilla.redhat.com/1369357">BZ 1369357</a> <b>While replacing the brick, the destination brick chosen from host should be the sub-directory under the mount</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1269132">BZ 1269132</a> <b>[ja_JP] Need to translate some warning messages on volume-&gt;geo replication-&gt;add pane.</b><br /></li>
</ul>

<h4 id="team-infra-6">Team: Infra</h4>

<ul>
  <li><a href="https://bugzilla.redhat.com/1325746">BZ 1325746</a> <b>[RFE] - Provide option to access engine not only by engine FQDN but also using alternate host names</b><br /></li>
</ul>

<h4 id="team-integration-4">Team: Integration</h4>

<ul>
  <li><a href="https://bugzilla.redhat.com/1369757">BZ 1369757</a> <b>engine-backup –mode=backup –restore-permissions should create the missing extra users if possible</b><br /></li>
</ul>

<h4 id="team-sla-2">Team: SLA</h4>

<ul>
  <li><a href="https://bugzilla.redhat.com/1304387">BZ 1304387</a> <b>HE VM hot plug is not working, it's missing the real max number of cpu definition</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1284472">BZ 1284472</a> <b>User can't create a VM. No permission for EDIT_ADMIN_VM_PROPERTIES</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1354281">BZ 1354281</a> <b>All hosts filtered out when memory underutilized parameter left out</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1315657">BZ 1315657</a> <b>No auto-completion option for scheduling policy name in update cluster</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1371888">BZ 1371888</a> <b>[z-stream clone - 4.0.4] User can't assign CPU profile after upgrade from 3.6 to 4.0</b><br /></li>
</ul>

<h4 id="team-storage-3">Team: Storage</h4>

<ul>
  <li><a href="https://bugzilla.redhat.com/1302752">BZ 1302752</a> <b>[scale] - getdisksvmguid inefficient query, hit the performance</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1328877">BZ 1328877</a> <b>Image Upload: UI doesn't respond gracefully for a proxy failure when resuming an upload.</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1368203">BZ 1368203</a> <b>Remove auto-generated snapshot job is stuck in status STARTED and the vm is "blocked" if a vm is stopped during a LSM</b><br /></li>
</ul>

<h4 id="team-virt-3">Team: Virt</h4>

<ul>
  <li><a href="https://bugzilla.redhat.com/1328725">BZ 1328725</a> <b>Re importing template version after the base template has changed fails</b><br /></li>
</ul>

<h3 id="ovirt-host-deploy">oVirt Host Deploy</h3>

<h4 id="team-integration-5">Team: Integration</h4>

<ul>
  <li><a href="https://bugzilla.redhat.com/1332586">BZ 1332586</a> <b>ovirt-host-deploy - README.environment is outdated</b><br /></li>
</ul>

<h3 id="ovirt-hosted-engine-ha">oVirt Hosted Engine HA</h3>

<h4 id="team-integration-6">Team: Integration</h4>

<ul>
  <li><a href="https://bugzilla.redhat.com/1365242">BZ 1365242</a> <b>3.4-&gt;3.5-&gt;3.6-&gt;4.0 SHE migration: ovirt-ha-agent not working correctly / state=AgentStopped</b><br /></li>
</ul>

<h3 id="ovirt-image-uploader">oVirt Image Uploader</h3>

<h4 id="team-integration-7">Team: Integration</h4>

<ul>
  <li><a href="https://bugzilla.redhat.com/1340963">BZ 1340963</a> <b>configuring SSO integration cause API failure in engine-image-uploader</b><br /></li>
  <li><a href="https://bugzilla.redhat.com/1335169">BZ 1335169</a> <b>nfs-utils package is required by image-uploader but is not listed as dependency</b><br /></li>
</ul>


</section>
</section>
</section>
<footer class='text-center' id='footer'>
<hr class='visible-print'>
<ul class='footer-nav-list'>
<li><a target="_blank" href="../../site/privacy-policy.html">Privacy policy</a></li>
<li><a target="_blank" href="../../community/about.html">About</a></li>
<li><a target="_blank" href="../../site/general-disclaimer.html">Disclaimers</a></li>
</ul>

&copy; 2013&ndash;2019 oVirt
<div class='edit-this-page'>
<a target="_blank" href="https://github.com/oVirt/ovirt-site/issues/new?labels=content&amp;title=Issue:%20/source/release/4.0.4/index.html.md&amp;template="><i class="icon fa fa-github"></i>Report an issue with this page</a>
</div>
<div class='edit-this-page'>
<a target="_blank" href="https://github.com/oVirt/ovirt-site/edit/master/source/release/4.0.4/index.html.md"><i class="icon fa fa-github"></i>Edit this page</a>
</div>
<div class='last-modified'>
Page last modified
Fri 1 Mar 2019 23:15 UTC
</div>
        <script type="text/javascript">
        var _paq = _paq || [];
        _paq.push(['trackPageView']);
        _paq.push(['enableLinkTracking']);
        (function() {
        var u=(("https:" == document.location.protocol) ? "https" : "http") + "://stats.phx.ovirt.org/";
        _paq.push(['setTrackerUrl', u+'piwik.php']);
        _paq.push(['setSiteId', 1]);
        var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0]; g.type='text/javascript';
        g.defer=true; g.async=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
        })();
        </script>
<noscript><p><img src="https://stats.phx.ovirt.org/piwik.php?idsite=1" style="border:0;" alt="" /></p></noscript>
</footer>


<script src="/javascripts/application.js?1560777657" type="text/javascript"></script>

</body>
</html>
